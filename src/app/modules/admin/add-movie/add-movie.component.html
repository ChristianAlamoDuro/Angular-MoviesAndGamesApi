<app-menu-admin class="shadow-lg"></app-menu-admin>
<div class="container-fluid" *ngIf="load">
    <div class="row">
        <div class="col-12 ml-5">
            <h2 class="mt-4">{{ title }}</h2>
            <form [formGroup]="formMovie" (ngSubmit)="onSubmit(formMovie)" enctype="multipart/form-data">
                <div class="form-group mt-2">
                    <input type="text" placeholder="Name" class="form-control col-10 col-lg-6" formControlName="name"
                        name="name" title="Movie name"> <br>
                </div>

                <div class="form-group">
                    <input type="text" placeholder="Film producer" class="form-control col-10 col-lg-6" formControlName="filmProducer"
                        name="filmProducer" title="Movie film producer"> <br>
                </div>

                <div class="form-group">
                    <input type="text" placeholder="Duration" class="form-control col-10 col-lg-6"
                        formControlName="duration" name="duration" title="Movie duration"> <br>
                </div>

                <div class="form-group">
                    <input type="number" placeholder="Public directed" class="form-control col-10 col-lg-6"
                        formControlName="publicDirected" name="publicDirected" title="Movie public directed"> <br>
                </div>
                <div class="form-group">
                    <input type="text" placeholder="Out date" class="form-control col-10 col-lg-6"
                        formControlName="outDate" name="outDate" title="Movie out date"> <br>
                </div>

                <!--Categories-->
                <div class="form-group">
                    <div>
                        <div *ngIf="movieCategories; else notCategories">
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5"> {{movieCategories}}
                            </textarea>
                        </div>
                        <ng-template #notCategories>
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5">Categories is empty
                            </textarea>
                        </ng-template>
                    </div> <br>
                    <a (click)="checkCheckbox()" href="#modal-categories" class="btn btn-info btn-lg" data-toggle="modal">Add categories</a>
                </div>

                <!--Actors-->
                <div class="form-group">
                    <div>
                        <div *ngIf="movieActors; else notActors">
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5"> {{ movieActors }}
                            </textarea>
                        </div>
                        <ng-template #notActors>
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5">Actors is empty
                            </textarea>
                        </ng-template>
                    </div> <br>
                    <a (click)="checkCheckbox()" href="#modal-actors" class="btn btn-info btn-lg" data-toggle="modal">Add actors</a>
                </div>

                <!--Directors-->
                <div class="form-group">
                    <div>
                        <div *ngIf="movieDirectors; else notDirectos">
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5"> {{ movieDirectors }}
                                                </textarea>
                        </div>
                        <ng-template #notDirectos>
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5">Directors is empty
                                                </textarea>
                        </ng-template>
                    </div> <br>
                    <a href="#modal-directors" (click)="checkCheckbox()" class="btn btn-info btn-lg" data-toggle="modal">Add directors</a>
                </div>

                <div class="form-group">
                    <textarea placeholder="Sinopsis" name="Sinopsis" class="form-control col-10 col-lg-6"
                        formControlName="sinopsis" cols="10" rows="10"></textarea>
                </div>

                <div class="form-group">
                    <input (change)="takeImage($event.target.files)" type="file" id="image" class="form-control-file"
                        formControlName="image" name="image"> <br>
                </div>
                <div class="text-center col-12 col-lg-6">
                    <button type="submit" class="btn btn-primary col-3">
                        Send
                    </button>
                </div>
            </form>
        </div>
    </div>
    <!--MODAL CATEGORIES-->
    <div class="modal fade" id="modal-categories">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="model-title">Categories</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal__category" *ngFor="let category of categories">
                        <input (click)="constructCategory($event)" class="form-check-input" type="checkbox"
                            name="categoriesMovie" id="C-{{ category.id }}" [value]="category.id"> {{ category.name }}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--MODAL ACTORS-->
    <div class="modal fade" id="modal-actors">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="model-title">Actors</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <table class="table">
                        <thead class="">
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Birthday</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let actor of actors">
                                <td><input (click)="constructActor($event)" class="form-check-input" type="checkbox"
                                        name="actorMovie" id="A-{{ actor.id }}" [value]="actor.id">{{ actor.name }} {{actor.surname}}</td>
                                <td>
                                    {{actor.birthday}} </td>
                                <td>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!--MODAL DIRECTORS-->
    <div class="modal fade" id="modal-directors">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="model-title">Directors</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <table class="table">
                        <thead class="">
                            <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Birthday</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let director of directors">
                                <td><input (click)="constructDirector($event)" class="form-check-input" type="checkbox"
                                        name="directorMovie" id="D-{{ director.id }}" [value]="director.id">{{ director.name }} {{director.surname}}
                                </td>
                                <td>
                                    {{director.birthday}} </td>
                                <td>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>