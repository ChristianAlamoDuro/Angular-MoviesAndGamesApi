<app-menu-admin class="shadow-lg"></app-menu-admin>
<div class="container-fluid" *ngIf="load">
    <div class="row">
        <div class="col-12 ml-5">
            <h2 class="mt-4">{{ title }}</h2>
            <form [formGroup]="formGame" (ngSubmit)="onSubmit(formGame)" enctype="multipart/form-data">
                <div class="form-group mt-2">
                    <input type="text" placeholder="Name" class="form-control col-10 col-lg-6" formControlName="name" name="name"> <br>
                </div>
                
                <div class="form-group">
                    <input type="text" placeholder="Duration" class="form-control col-10 col-lg-6" formControlName="duration" name="duration"> <br>
                </div>

                <div class="form-group">
                    <input type="number" placeholder="Public directed" class="form-control col-10 col-lg-6" formControlName="publicDirected" name="publicDirected"> <br>
                </div>
                <div class="form-group">
                        <input type="text" placeholder="Out date" class="form-control col-10 col-lg-6" formControlName="outDate" name="outDate"> <br>
                </div>

                <!--Categories-->
                <div class="form-group">
                    <div>
                        <div *ngIf="movieCategories; else notCategories">
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5"> {{movieCategories}}
                            </textarea>
                        </div>
                        <ng-template #notCategories>
                            <textarea readonly class="form-control col-10 col-lg-6" cols="10" rows="5">Categories is empty
                            </textarea>
                          </ng-template>
                    </div> <br>
                    <a href="#modal-categories" class="btn btn-info btn-lg" data-toggle="modal">Add categories</a>
                </div>

                <div class="form-group">
                        <textarea placeholder="Sinopsis" name="Sinopsis" class="form-control col-10 col-lg-6" formControlName="sinopsis" cols="10" rows="10"></textarea>
                </div>

                <div class="form-group">
                    <input (change)="takeImage($event.target.files)" type="file" id="image" class="form-control-file" formControlName="image" name="image"> <br>
                </div>
                <div class="text-center col-12 col-lg-6">
                    <button type="submit" class="btn btn-primary col-3">
                        Send
                    </button>
                </div>
            </form>
        </div>
    </div>
    <div class="modal fade" id="modal-categories">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="model-title">Categories</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal__category" *ngFor="let category of categories">
                        <input (click)="constructCategory($event)" class="form-check-input" type="checkbox" name="categoriesGames" [value]="category.id"> {{ category.name }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>